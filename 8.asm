RowLow EQU 9004H
RowHigh EQU 9006H     
ColLow EQU 9000H
ColHigh EQU 9002H


CODE SEGMENT
    ASSUME CS:CODE,DS:DATA,SS:STACK
START:
    MOV AX,DATA
    MOV DS,AX
    MOV AX,STACK
    MOV SS,AX
    MOV AX,CODE
    MOV SP,AX
main:
    MOV AL,0
    MOV DX,RowLow
    OUT DX,AL
    MOV DX,RowHigh
    OUT DX,AL
    
    MOV AL,0FFH
    MOV DX,ColLow
    OUT DX,AL
    MOV DX,ColHigh
    OUT DX,AL
 
 n123:
    MOV CharIndex,0
 nextchar:
    MOV DelayCNT,20
 LOOP1: ;取下一字符的基址BX
    MOV BitMask,1
    MOV ColCNT,16
    MOV BX,CharIndex
    MOV AX,2
    MUL BX
    MOV BX,AX
nextrow:
    MOV AL,0FFH
    MOV DX,RowLow
    OUT DX,AL
    MOV DX,RowHigh
    OUT DX,AL
    MOV AX,[SI+BX]
    MOV DX,ColLow
    OUT DX,AL
    MOV DX,ColHigh
    MOV AL,AH
    OUT DX,AL
    ;扫描行
    INC BX
    INC BX
    MOV AX,BitMask
    MOV DX,RowLow
    NOT AL
    OUT DX,AL
    MOV DX,RowHigh
    MOV AL,AH
    NOT AL
    OUT DX,AL
    
    MOV AX,BitMask
    ROL AX,1       ;循环右移1位
    MOV BitMask,AX
    
    NOP
    DEC ColCNT
    JNZ nextrow
    
    DEC DelayCNT
    JNZ LOOP1
    
    INC CharIndex
    MOV AX,CharIndex
    CMP AX,208 ;字符数
    JNZ nextchar
    JMP n123
delay:
    PUSH CX
    MOV CX,1
delay1:
    loop delay1
    POP CX
    RET
CODE ENDS

DATA SEGMENT
Font:
    ;西   CCEF7
    DB 000H,000H,0FFH,0FEH,004H,040H,004H,040H
    DB 004H,040H,03FH,0F8H,024H,048H,024H,048H
    DB 024H,048H,024H,048H,028H,038H,030H,008H
    DB 020H,008H,020H,008H,03FH,0F8H,020H,008H
    
    ;安   CB0B2
    DB 002H,000H,001H,000H,07FH,0FEH,040H,002H
    DB 082H,004H,002H,000H,002H,004H,0FFH,0FEH
    DB 004H,020H,008H,020H,018H,020H,006H,040H
    DB 001H,080H,002H,040H,00CH,030H,030H,010H

    
    ;电   CB5E7
    DB 001H,000H,001H,000H,001H,000H,03FH,0F8H
    DB 021H,008H,021H,008H,021H,008H,03FH,0F8H
    DB 021H,008H,021H,008H,021H,008H,03FH,0F8H
    DB 021H,00AH,001H,002H,001H,002H,000H,0FEH
    
    ;子   CD7D3
    DB 000H,000H,07FH,0F8H,000H,010H,000H,020H
    DB 000H,040H,001H,080H,001H,000H,0FFH,0FEH
    DB 001H,000H,001H,000H,001H,000H,001H,000H
    DB 001H,000H,001H,000H,005H,000H,002H,000H
    
    ;科   CBFC6
    DB 008H,010H,01DH,010H,0F0H,090H,010H,090H
    DB 010H,010H,0FDH,010H,010H,090H,038H,090H
    DB 034H,010H,050H,01EH,053H,0F0H,090H,010H
    DB 010H,010H,010H,010H,010H,010H,010H,010H
    
    ;技   CBCBC
    DB 010H,020H,010H,020H,010H,020H,013H,0FEH
    DB 0FCH,020H,010H,020H,010H,020H,015H,0FCH
    DB 018H,084H,030H,088H,0D0H,048H,010H,050H
    DB 010H,020H,010H,050H,051H,088H,026H,006H
    
    ;大   CB4F3
    DB 001H,000H,001H,000H,001H,000H,001H,000H
    DB 001H,000H,0FFH,0FEH,001H,000H,001H,000H
    DB 002H,080H,002H,080H,004H,040H,004H,040H
    DB 008H,020H,010H,010H,020H,008H,0C0H,006H
    
    ;学   CD1A7
    DB 022H,008H,011H,008H,011H,010H,000H,020H
    DB 07FH,0FEH,040H,002H,080H,004H,01FH,0E0H
    DB 000H,040H,001H,080H,0FFH,0FEH,001H,000H
    DB 001H,000H,001H,000H,005H,000H,002H,000H
    
    ;欢   CBBB6
    DB 000H,080H,000H,080H,0FCH,080H,004H,0FCH
    DB 005H,004H,049H,008H,02AH,040H,014H,040H
    DB 010H,040H,028H,0A0H,024H,0A0H,045H,010H
    DB 081H,010H,002H,008H,004H,004H,008H,002H
    
    ;迎   CD3AD
    DB 000H,000H,020H,080H,013H,03CH,012H,024H
    DB 002H,024H,002H,024H,0F2H,024H,012H,024H
    DB 012H,024H,012H,0B4H,013H,028H,012H,020H
    DB 010H,020H,028H,020H,047H,0FEH,000H,000H
    
    ;您   CC4FA
    DB 009H,000H,009H,000H,011H,0FCH,032H,004H
    DB 054H,048H,099H,050H,011H,048H,012H,044H
    DB 014H,044H,011H,040H,010H,080H,002H,000H
    DB 051H,004H,051H,012H,090H,012H,00FH,0F0H

    

; 刘[0C1F5H]   16x16 
DB 020H,004H,018H,004H,009H,024H,0FFH,0A4H
DB 002H,024H,042H,024H,022H,024H,014H,024H
DB 014H,024H,008H,024H,008H,024H,014H,024H
DB 022H,004H,043H,004H,081H,014H,000H,008H

; 优[0D3C5H]   16x16 
DB 010H,080H,010H,0A0H,010H,090H,020H,090H
DB 020H,084H,07FH,0FEH,0A1H,040H,021H,040H
DB 021H,040H,022H,040H,022H,040H,022H,040H
DB 024H,042H,024H,042H,028H,03EH,030H,000H

; 然[0C8BBH]   16x16 
DB 010H,020H,010H,020H,010H,028H,01EH,024H
DB 022H,020H,033H,0FEH,04AH,020H,0A4H,050H
DB 014H,050H,008H,088H,011H,00EH,022H,004H
DB 040H,000H,024H,048H,024H,046H,040H,002H

BitMask DW 1
CharIndex DW 1
DelayCNT DW 1
Colcnt DW 1

DATA ENDS       


STACK SEGMENT
    STA DB 100 DUP(0)
    TOP EQU LENGTH STA
STACK ENDS

END START
